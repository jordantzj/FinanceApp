{"ast":null,"code":"import _slicedToArray from\"/Users/jordantay/Desktop/FinanceReact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classes from'./PortfolioForm.module.css';import Button from'../UI/Button';import{React,useState,Fragment,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PortfolioForm(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),enteredStock=_useState2[0],setEnteredStock=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),enteredTicker=_useState4[0],setEnteredTicker=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),enteredAmount=_useState6[0],setEnteredAmount=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),enteredMark=_useState8[0],setEnteredMark=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),formIsValid=_useState10[0],setFormIsValid=_useState10[1];//const [error, setError] = useState('');\nvar tickerChangeHandler=function tickerChangeHandler(event){setEnteredTicker(event.target.value);};useEffect(function(){var APIKEY='GCtknMw46M8sqfHfm639066y2xmvr95t5A16rhkx';var stockName={method:'GET',url:'https://yfapi.net/v6/finance/quote?symbols='+enteredTicker,params:{modules:'defaultKeyStatistics,assetProfile'},headers:{\"x-api-key\":APIKEY}};axios.request(stockName).then(function(response){var stockName=response.data.quoteResponse.result[0].displayName;setEnteredStock(stockName);}).catch(function(error){console.error(error);});},[enteredTicker]);var stockChangeHandler=function stockChangeHandler(event){setEnteredStock(event.target.value);};var amountChangeHandler=function amountChangeHandler(event){setEnteredAmount(event.target.value);};var markChangeHandler=function markChangeHandler(event){setEnteredMark(event.target.value);};var addStockHandler=function addStockHandler(event){event.preventDefault();var stockData={ticker:enteredTicker,name:enteredStock,amount:enteredAmount,mark:enteredMark};props.onSaveStockData(stockData);setEnteredTicker('');setEnteredStock('');setEnteredAmount('');setEnteredMark('');};useEffect(function(){var arr1=[enteredAmount.trim().length!==0,enteredMark.trim().length!==0,enteredAmount>0,enteredMark>0];var checker=function checker(arr){return arr.every(function(v){return v===true;});};if(checker(arr1)){setFormIsValid(true);}else{setFormIsValid(false);}},[enteredTicker,enteredAmount,enteredMark]);// useEffect(() => {\n//     let arr1 = [enteredStock.trim().length !== 0,\n//     enteredAmount.trim().length !== 0,\n//     enteredMark.trim().length !== 0,\n//     enteredAmount > 0,\n//     enteredMark > 0];\n//     let checker = arr => arr.every(v => v === true);\n//     if (checker(arr1)) {\n//         setFormIsValid(true)\n//     } else {\n//         setFormIsValid(false)\n//     }\n// }, [enteredStock, enteredAmount, enteredMark]);\nreturn/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:addStockHandler,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"ticker\"}),/*#__PURE__*/_jsx(\"input\",{id:\"ticker\",type:\"text\",value:enteredTicker,onChange:tickerChangeHandler}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Stock Name\"}),/*#__PURE__*/_jsx(\"input\",{id:\"name\",type:\"text\",value:enteredStock,onChange:stockChangeHandler}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"input\",{id:\"amount\",type:\"number\",value:enteredAmount,onChange:amountChangeHandler}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"mark\",children:\"Mark\"}),/*#__PURE__*/_jsx(\"input\",{id:\"mark\",type:\"number\",value:enteredMark,onChange:markChangeHandler}),!formIsValid&&/*#__PURE__*/_jsx(\"button\",{className:classes.invalid,disabled:!formIsValid,children:\"Confirm\"}),formIsValid&&/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\" Confirm\"})]})});};export default PortfolioForm;","map":{"version":3,"sources":["/Users/jordantay/Desktop/FinanceReact/src/components/Portfolio/PortfolioForm.js"],"names":["classes","Button","React","useState","Fragment","useEffect","axios","PortfolioForm","props","enteredStock","setEnteredStock","enteredTicker","setEnteredTicker","enteredAmount","setEnteredAmount","enteredMark","setEnteredMark","formIsValid","setFormIsValid","tickerChangeHandler","event","target","value","APIKEY","stockName","method","url","params","modules","headers","request","then","response","data","quoteResponse","result","displayName","catch","error","console","stockChangeHandler","amountChangeHandler","markChangeHandler","addStockHandler","preventDefault","stockData","ticker","name","amount","mark","onSaveStockData","arr1","trim","length","checker","arr","every","v","invalid"],"mappings":"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","sourcesContent":["import classes from './PortfolioForm.module.css'\nimport Button from '../UI/Button';\nimport { React, useState, Fragment, useEffect } from 'react';\nimport axios from 'axios';\n\n\nfunction PortfolioForm(props) {\n    const [enteredStock, setEnteredStock] = useState('');\n    const [enteredTicker, setEnteredTicker] = useState('');\n    const [enteredAmount, setEnteredAmount] = useState('');\n    const [enteredMark, setEnteredMark] = useState('');\n    const [formIsValid, setFormIsValid] = useState(false);\n    //const [error, setError] = useState('');\n\n    const tickerChangeHandler = (event) => {\n        setEnteredTicker(event.target.value);\n    };\n    \n    useEffect(()=>{\n        const APIKEY = 'GCtknMw46M8sqfHfm639066y2xmvr95t5A16rhkx'\n            var stockName = {\n                method: 'GET',\n                url: 'https://yfapi.net/v6/finance/quote?symbols=' + enteredTicker,\n                params: { modules: 'defaultKeyStatistics,assetProfile' },\n                headers: {\n                    \"x-api-key\": APIKEY\n                }\n            };\n            axios.request(stockName).then(function (response) {\n                const stockName = response.data.quoteResponse.result[0].displayName\n                setEnteredStock(stockName)\n            }).catch(function (error) {\n                console.error(error)\n            })\n\n    },[enteredTicker]);\n\n    const stockChangeHandler = (event) => {\n\n        setEnteredStock(event.target.value);\n    };\n\n    const amountChangeHandler = (event) => {\n        setEnteredAmount(event.target.value);\n    };\n    const markChangeHandler = (event) => {\n        setEnteredMark(event.target.value);\n    };\n\n\n    const addStockHandler = (event) => {\n        event.preventDefault();\n\n        const stockData = {\n            ticker: enteredTicker,\n            name: enteredStock,\n            amount: enteredAmount,\n            mark: enteredMark\n        };\n\n\n\n        props.onSaveStockData(stockData);\n        setEnteredTicker('');\n        setEnteredStock('');\n        setEnteredAmount('');\n        setEnteredMark('');\n\n\n    };\n\n\n\n    useEffect(() => {\n        let arr1 = [\n        enteredAmount.trim().length !== 0,\n        enteredMark.trim().length !== 0,\n        enteredAmount > 0,\n        enteredMark > 0];\n\n        let checker = arr => arr.every(v => v === true);\n        if (checker(arr1)) {\n            setFormIsValid(true)\n        } else {\n            setFormIsValid(false)\n        }\n    }, [enteredTicker, enteredAmount, enteredMark]);\n\n    // useEffect(() => {\n    //     let arr1 = [enteredStock.trim().length !== 0,\n    //     enteredAmount.trim().length !== 0,\n    //     enteredMark.trim().length !== 0,\n    //     enteredAmount > 0,\n    //     enteredMark > 0];\n\n    //     let checker = arr => arr.every(v => v === true);\n    //     if (checker(arr1)) {\n    //         setFormIsValid(true)\n    //     } else {\n    //         setFormIsValid(false)\n    //     }\n    // }, [enteredStock, enteredAmount, enteredMark]);\n\n    return (\n        <Fragment>\n            <form onSubmit={addStockHandler}>\n                <label htmlFor=\"name\">ticker</label>\n                <input id=\"ticker\" type=\"text\" value={enteredTicker} onChange={tickerChangeHandler}></input>\n                <label htmlFor=\"name\">Stock Name</label>\n                <input id=\"name\" type=\"text\" value={enteredStock} onChange={stockChangeHandler}></input>\n                <label htmlFor=\"amount\">Amount</label>\n                <input id=\"amount\" type=\"number\" value={enteredAmount} onChange={amountChangeHandler}></input>\n                <label htmlFor=\"mark\">Mark</label>\n                <input id=\"mark\" type=\"number\" value={enteredMark} onChange={markChangeHandler}></input>\n                {!formIsValid && <button className={classes.invalid} disabled={!formIsValid}>Confirm</button>}\n                {formIsValid && <Button type=\"submit\" > Confirm</Button>}\n            </form>\n        </Fragment>\n    )\n};\n\nexport default PortfolioForm;"]},"metadata":{},"sourceType":"module"}